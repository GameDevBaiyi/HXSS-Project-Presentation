华夏史诗战国, 个人负责项代码展示, 主要展示 Lua 语言. 

1. 角色属性系统重构. 角色属性系统是 RPG 游戏中的底层构筑, 没有一个系统化的框架, 对于属性的监测, Buff 等依赖系统的实现会造成很大的困难. 

   之前的属性系统: AttributeDataBase 和 RoleData. 违背了 Single Resposibility 原则. 接口不统一化. 未考虑属性之间的关联. 

   重构后的属性系统(实际上 ET 内置的属性管理框架也是这一套): PropertyCenter. 获取属性, 修改属性, 属性公式 的接口统一化. 属性之间的关联系统化(将属性构成分成主属性和子属性). 


2. 在重构了属性系统后, 特性系统, 天赋系统 等需要 修改角色属性 的系统便可以实装了. 在此之前该功能是未实装的, 仅有 UI 显示. 

   特性系统, 天赋系统是有共性的. 首先它们可能有相同的词条, 并且词条是可能发生组合的, 所以我抽离出相同的 "效果" 部分, 命名为 天赋效果系统, TalentEffectSystem. 任何实现过的效果都可能复用在其他高级系统中, 保证接口统一化的同时, 减少了代码的重复. 

   为了实现词条的组合, 便于策划的配置, 我规定了策划的配置方案, 并且将各个效果 模块化, 并加入了 "效果组" 的概念. 效果组中包含一个效果的集合, 可以任意组合并依次生效. 

   注: 天赋系统 TalentSystem 的结构较为复杂, 在此稍微说明, 每个 八卦 Id 对应一颗 天赋树 TalentTree, 一颗 天赋树 包含多个 节点 TalentNode, 每个 节点 又包含 多个升级选项, 也就是多个策划表中的配置. 


3. 解决了项目的内存泄漏问题. 本人接手项目前该项目有严重的内存泄漏问题, 32 G 内存切换几次场景就爆掉. 由于本人擅长优化方面的工作, 便主动提出要解决该问题. 使用 Memory Profiler 查找到泄漏的内存主要是 Texture2D. 再结合代码和 Spine 的官方文档以及示例, 花费两天时间最终发现了导致内存泄漏的 API: Spine 的换装 API 的 C# 版本会 out 出两个需要手动 Destroy 掉的 Textrue 和 Material, 但由于开发环境是 Lua, 之前的开发人员并没有主动接取 out 出来的参数, 程序也不会报错. 主动 Destroy 掉不需要复用的 Texture 和 Material 后问题得以解决. 


4. 解决了项目加载卡顿的问题. 该项目的资源分类规范不严谨, AB 包的数量超出了 7000 个, 其中大部分的包只有 几十 kb. 为了快速解决该问题, 我提出了使用 Addressable 来管理资源. Addressable 可以主动查找引用的资源并进行打包, 也提供了工具监测重复打包的资源. Addressable 只是减少了资源管理的压力, 但混乱的资源规范还是不可取的. 


5. 利用 xLua 为项目提供了 GM 工具, 数据可视化工具, 为策划提供了 Npc 巡逻编辑器等编辑器工具, 本人也很擅长编辑器的开发. 这些零碎的功能就不一一列举了. 
